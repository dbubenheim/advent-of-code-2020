package advent.of.code

class Day03 {

    companion object {

        @JvmStatic
        fun tobbogganTrajectoryPart2(): Long {

            var sum = tobbogganTrajectoryPart1(1, 1)
            sum *= tobbogganTrajectoryPart1(3, 1)
            sum *= tobbogganTrajectoryPart1(5, 1)
            sum *= tobbogganTrajectoryPart1(7, 1)
            sum *= tobbogganTrajectoryPart1(1, 2)

            return sum
        }

        @JvmStatic
        fun tobbogganTrajectoryPart1(right: Int = 3, down: Int = 1): Long {

            var count = 0L
            var y = 0
            var x = 0
            do {

                x += right
                if (x > MAX_X) {
                    x %= MAX_X
                    x--
                }
                y += down
                val field = INPUT[y][x]
                if (field == TREE) count++

            } while (y < MAX_Y)

            return count
        }

        @JvmStatic
        fun main(args: Array<String>) {
            println(tobbogganTrajectoryPart1(1, 1))
            println(tobbogganTrajectoryPart1(3, 1))
            println(tobbogganTrajectoryPart1(5, 1))
            println(tobbogganTrajectoryPart1(7, 1))
            println(tobbogganTrajectoryPart1(1, 2))
            println(tobbogganTrajectoryPart2())
        }

        private val REAL_INPUT = listOf(
                ".......#..#....#...#...#......#",
                "..##..#...##.###.#..#.....#.#..",
                "#..#.#....#......#..#.........#",
                ".#..##...#........#....#..#..#.",
                "#.#.#....###...#........#.....#",
                ".#...#.#.##.#.##...#.#.........",
                "####......#.......###.##.#.....",
                "..#...........#...#.#.#........",
                ".#.......#....###.####..#......",
                "...##........#....##.......##..",
                ".###......##.#......##....#.#.#",
                "........#.#......##...#......#.",
                "#....##.#..#...#.......#.......",
                ".#..##........##.........#....#",
                ".#..#..#...#....#.#......#.#...",
                "..#.#......##.#.......#....##..",
                "......##......#.#..##.#..#...#.",
                ".....##.......#.#....#.#.......",
                "........#.....#.....#..###.#...",
                "#........#..#.....#...#.#.#..#.",
                ".#..#.....#...#........#.....#.",
                ".#.#.....#.....#...#...........",
                ".....#.#..#..#...#..#..#..##..#",
                "##.#...#....#..#.##..#.....#.#.",
                "#.......####......#..#.#....#..",
                "......#.#...####.........#.#..#",
                ".#.........#..#.#...#..........",
                "...#####.#....#.#..#......#.#.#",
                "##....#.###....##...##..#.....#",
                "...........####.##.#....##.##..",
                "#.#.#..........#.#..##.#.######",
                "##...#..#...........###..#....#",
                ".#.#.#...##..........##.#...#..",
                "...#.#........#..##...#....#...",
                "......#..#...#..##....#.......#",
                ".#..#.......#..#......##....##.",
                ".......#.......#........#..##..",
                "...#...#...#.##......#.##.#....",
                ".........#.........#.#.#.##....",
                "..#...................#....#..#",
                ".........#..#.....#.#...#....#.",
                "#.#.#...#........#..###.#......",
                "#.#.#.####......##...#...#....#",
                "#...........##..#.#.#....#..#..",
                "........#..#.#...........##.#.#",
                ".#.........#...........#..#....",
                "#............##.#..#....##...##",
                ".#....##..#.#....#.......#..#..",
                "..#.#...#.#......####.......#..",
                "...#.#.......###......#.....#..",
                "#......#.......#.#...#.#..##...",
                "...#.....#...##.#.....#.#......",
                "#.#.#............#..#......#..#",
                "....#...#...##.##.##...##.#....",
                "..##........#..#........#...##.",
                ".......#..#...#.........#.....#",
                "...........#.#......#...#......",
                "...##..##..##..###..#..#..#..#.",
                "#..##.......##..#....#....#.#..",
                "#.#.##.#..##.....#....#.#......",
                "....#..##......#.#..#....#....#",
                ".#.#.........##...#......##.##.",
                "##...........#..#.....#.###....",
                ".#.###........#...#....##..#...",
                "......##.....#.................",
                ".#.##..#.#.......#......#.#.#..",
                ".#...#....#.##..........##.##..",
                "#...##......####.#....#....#...",
                ".#...#.##.#.#.....#...#........",
                ".#................#.##.#.###...",
                "...#.#..#.#.....##.....##....#.",
                "..##.#..#..##.....#....#...#.##",
                "........###.##..#..###.....#..#",
                "..##.....#.......#.#...##......",
                "#.#..###...##.###.##.#..#...#..",
                "#..#..#.#...#....#...##.....#.#",
                "#..................#........#..",
                "#.....#.......#.##....##....#..",
                "...#.............#.....#...#...",
                "...#...#.##..##.....#........#.",
                ".......#........##....###..##..",
                ".#....#....#.#..#......#....#.#",
                "..........#..#.#.....##...#.##.",
                ".#...##.#...........#.#.......#",
                "..#.##.....#.###.#.............",
                "..#....###..........#.#.#......",
                "#.....#.####..#.#......#..#.#.#",
                "...#........#..#...............",
                ".###.#.##.....#.#...........#..",
                "..#....#..#....#..##....#......",
                "......#..#.....#.#.##.......#.#",
                "###..#...#.#..#....#..##.###..#",
                ".#....##.###........##...##.#.#",
                "........##..##.#....##..#....#.",
                "...#..#....#.#....#...#...##...",
                "#.....#......#.##........#....#",
                "....#....###.##...#.#.##....#..",
                "......#.##..#.#..........#...#.",
                "...........#...#....##...#....#",
                "......#.#.........#....#.#.#...",
                ".###..........#.###.##....#...#",
                "...##.......#......#....#....#.",
                "#..#...#.#..####...#......#..#.",
                "....##..#.#.........#..........",
                ".##.###.##....##.####....#...#.",
                "..##.......#........#...#..#...",
                "....#####..........###....#....",
                ".#.#..#.#.#....#..#............",
                "........#.....#....#.......##..",
                "...........##....##..##.....##.",
                "..###........#.#.#..#....##...#",
                ".....#...........##......#..#..",
                "...##........#.##.#......##..#.",
                "##..#....#............##..#..#.",
                ".#.....#...##.##..............#",
                "#..##........#...#...#......##.",
                "......##.....#.......####.##..#",
                "...#.#....#...#..#.............",
                "..#...#..##.###..#..#.......##.",
                "##....###.......#...#..#.......",
                "#..#.....###.....#.#.........#.",
                "#.#....#.............#...#.....",
                "..#.#.##..........#.....##.#...",
                ".....##......#..#..#.....#..#..",
                "##.#..#..#.##......###....#..#.",
                "...#............##...#..##.....",
                ".#..#....#.........#......#.##.",
                ".##.##...#..............#..#.##",
                "...#....#...###...#...#....#..#",
                "..#...#..####..#....#.#...##..#",
                "..............##.##.......##...",
                "..##.#..##...........#.#.#...#.",
                "..................##.####.###..",
                ".#...........#.......#......#..",
                ".#.#.#...#....#.........##...##",
                "....#..........#.#....#.#.....#",
                "..........#.#..........#.#.....",
                "...........#.....#.#......#....",
                "........#..#.#.#.#.............",
                "...###...##...##..####.##......",
                ".#..#......###.....#...#.....#.",
                ".........##............#.#.....",
                "#.#..#.#.#....###.#.#..#..#..##",
                "..........#...#.##.#..#..#....#",
                "#..#.......##....#..##........#",
                "##.#...#....##.............#...",
                "....#........#......##..#..#.##",
                ".................#.#.#.#.#.....",
                "...........#.#.....#.......#...",
                "#.......#.......#............#.",
                "....#...........#.#.##.....#..#",
                "#...#.....#....#..##...#.......",
                "..#.....#.....#.##.##....#.....",
                ".#.#..#...#..#..##.....##..#...",
                ".#.#....#.........####.........",
                "#...#..####.....#...#..##......",
                "..#...##.#.....#...#.....##....",
                ".#...#.....#.#.#......#.......#",
                "..#.....##.#..#.#...##.........",
                "##.#...#..#....#....#.##.##...#",
                ".#..#....#..##.#.......#..#....",
                "...##.#......#...###.......#...",
                "...#..#.........##.####........",
                "#.#..#..##...........#..#......",
                ".#...#.#......#.#..........#...",
                "...###...#.......#.....#.#...##",
                "..#....#.#.##..........##...#..",
                ".....###.........#.....#..##..#",
                ".......##.....#.#.....#.#..##..",
                ".#.#.###..##.......##...#......",
                "......#.....#................##",
                ".#......##..##.#.#...#...#...##",
                ".#...#......#.......#.#........",
                ".#..........###...#..#...#.....",
                ".........##.....#.#..#..#.#...#",
                "#...#...#.........#..#..#....#.",
                "###.......#.#.....#....##......",
                ".#..#......#..#...........#..#.",
                "..##....##..##...#......#......",
                ".#........#....#...#....#.....#",
                ".#.......#...#...#..##.#.#..#..",
                "#...#........#.##.....#.....#..",
                "#..##.....#..........#...#...##",
                "............#...............#..",
                ".#.##...#.....#.#..#..#..#.....",
                ".#.#.#...#........#....#...##..",
                "##......#.....#.###.#...#.#..#.",
                ".........##..#..#.#...#...#...#",
                "#...#.#....#..#..#.....#.......",
                ".......#.###...#.............#.",
                "..#.....#.#.#..###.#....#.....#",
                "....#...#.#....#.#..........#..",
                "..#......#.###.#.#..#.....#...#",
                "#............#..##...##......#.",
                "#...........#..#....#.###..###.",
                ".#.##.#.#.......#.............#",
                "..............#................",
                "..#.#.....#.....#...#......#...",
                ".#.#.#..#..#.#...........##....",
                ".....##.#......#..#.##....#....",
                ".......##..#.#.#..#............",
                "..#.....#.....#.###..#.....#.#.",
                "......##.....#..##.#...#.....#.",
                "...#...#....#..#..#........#...",
                "..#.##..#....#.........#.#..#..",
                "#....#.....###.....#......#....",
                "##.....#..#..##.........#.##.##",
                ".#.#....#.#..........#.........",
                ".##.#...#..#.......#.##...#....",
                "...#...#.....#....#...#.#..#...",
                ".....#....#.....#.....#.#......",
                "...........#.#.......#.......#.",
                ".........##.###.##........#....",
                "#..##.....#...#.#..............",
                ".#...#....##........#.#..#....#",
                "..#...#........#...#..#.##.#..#",
                "........#...#.....##.#.#....#.#",
                "#..#.......###.#....#.#.#......",
                ".......#...##....#...#..##..#..",
                ".....##........#.#.#..#....##..",
                ".#....#..#.#...........#......#",
                "...##....#.##.....##.......#...",
                ".##..#..#....#.#....#..#....##.",
                "..#....#.....###.......#..##..#",
                "....#.......#....##..#....#..##",
                "....#......##..#....#.#...#.#..",
                ".##.#......##..................",
                "##.#....#........#..#..#...##.#",
                ".......#..#.#...##.....#.#.....",
                "..##.#...........#.#.#..#.#.#..",
                ".....#....#......#..#.......#..",
                "#.#...#.####..##.......#..##...",
                "...#....#.....#.##.#..#.##..#..",
                ".#.......#......##........##.#.",
                ".......#.#...#..#...#..##.#....",
                ".#....#........#.#.....##..#..#",
                "#..#.....#..#.............#...#",
                "#...#....#..#...###..#...#.#...",
                ".#..#.....#..........#..##.####",
                "#.#.#.#.##.#.#.....##.#........",
                "...#....##....#...#..##.......#",
                "..##.##.#.#........#..........#",
                "..###........###..#..........#.",
                "...#......#..##.#........#..#..",
                "#.#.#..#........#..#..........#",
                "...#........#..##.#...#.###....",
                "##......#.####.#....#......#...",
                ".#..#......#................#..",
                "#.#........#.#.....##.....##...",
                "#...............#..#.......#.#.",
                ".##..#...........##..#..#.#....",
                "#......#.#.......#.#.#.##..#.##",
                ".....##.#..###.............##..",
                "....##.........#..#...#........",
                ".....#.....#.#.#..#.#..........",
                "#.........#....##.#.##.....#..#",
                ".#.........#......#.#.##.#.#...",
                "##.........#.....#..#.#..#.##.#",
                "....#......##...#.....#..#..###",
                "..#..............#...#..####...",
                "#....#...##.#.......#...#..#...",
                "#.......###.#.#.......#.......#",
                "...##....#.#...........#...###.",
                "...........#..#.#.....#..##..#.",
                "..#.........#..###..#.....#...#",
                "..#.#.....#.#.#...#.#.#......#.",
                "........#.....#.#......##....##",
                "##.#.#...#.#........#.....#...#",
                "........#....#...............#.",
                "##.###......####...#####..#....",
                "...##...#..#....#........#...#.",
                "...###.#..................##.#.",
                "##.#.......###.......#...#.#...",
                "....#..#.#...#...#....#.#.#..##",
                "....#...........#..#...........",
                "#..#.#..#...#...#..#...........",
                "...#...#.#....#..#....#........",
                "#....#.......#.##........#..#..",
                ".....#...#..#................#.",
                "#......#.......#..........##..#",
                ".#....#.#......#.#...#....##..#",
                "...#.##...#......#.#...##...##.",
                "..#...#..##...#...#....#.......",
                ".....#....#.#.#..........#.#...",
                "...#...#..#....#..#.#..........",
                "......#.#..........##.......#..",
                ".#...##.#.#...#..##..#...#.....",
                "..#..#.........#........#.#.#..",
                "#.#..##..#.....##......#.....#.",
                "#..#.....#.#....#...#.#....#.#.",
                "......#........##.#..#...#.....",
                "...#.##.#.#......#.#..##...#..#",
                "....#..###..#..#.....###....##.",
                ".....#...#.#.....#..........#.#",
                ".#...##..##.....#..#...#.#.#...",
                ".##.#......##...##..#...#.....#",
                ".#.##....#...#.##.#.#...#.#...#",
                "....#.#...#....###.#.....#.....",
                "#.....####................#..#.",
                "....#.....#...#.#.......##.#...",
                ".#...##.#...#..#...........#.#.",
                "..#####..#.#...#...##........#.",
                "...#...##........#...#.#....###",
                "........#.#.#..#.....#.......#.",
                "...#...#..##............##.....",
                "#.#..###....###.#...#.#...##.##",
                "..#.##...#......#..#.........##",
                ".##..#..#.....#..#.........#.#.",
                ".#..#.#....#.##...#..#.##....##",
                "..#...#.#...##.#.#...#...#....#",
                "#..........#.......##..##....#.",
                "#...###.#......#....#.........#",
                "#.....#...##.......##....##....",
                ".##.#..#.##......#.##....#..#..",
                "............#.#....##.#..#....#",
                ".#.........##.##...#....#.....#",
                "##....##..#..#....##...#.....##",
                "...#.....#...........#.....##..",
                "......#...#.........#.......#..",
                "............#...##.#.....#.#.#.",
                ".#........##..........#.....#.#",
                ".###.........#.....#.##...#....",
                ".##..#...##...#..#..#.##......."
        )

        val TEST_INPUT = listOf(
        "..##.........##.........##.........##.........##.........##.......",
        "#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..",
        ".#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.",
        "..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#",
        ".#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.",
        "..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....",
        ".#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#",
        ".#........#.#........#.#........#.#........#.#........#.#........#",
        "#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...",
        "#...##....##...##....##...##....##...##....##...##....##...##....#",
        ".#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#"
        )

        val INPUT = REAL_INPUT

        private val MAX_X = INPUT[0].length - 1
        private val MAX_Y = INPUT.size - 1
        private const val TREE = '#'
    }
}